apiVersion: v1
kind: Secret
metadata:
  name: {{ include "crew-studio.fullname" . }}-config-secret
  labels:
    {{- include "crew-studio.labels" . | nindent 4 }}
type: Opaque
stringData:
  config.yaml: |
    llm:
      api_key: {{ .Values.llm.apiKey | quote }}
      api_base_url: {{ .Values.llm.apiBaseUrl | quote }}
      environment: {{ .Values.llm.environment | quote }}
      model_manager: {{ .Values.llm.modelManager | quote }}
      model_worker: {{ .Values.llm.modelWorker | quote }}
      model_reviewer: {{ .Values.llm.modelReviewer | quote }}
      max_tokens: {{ .Values.llm.maxTokens }}
      temperature: {{ .Values.llm.temperature }}
      embedding_model: {{ .Values.llm.embeddingModel | quote }}
      ollama_base_url: {{ .Values.llm.ollamaBaseUrl | quote }}
      ollama_model: {{ .Values.llm.ollamaModel | quote }}
    budget:
      max_cost_per_project: {{ .Values.budget.maxCostPerProject }}
      max_cost_per_hour: {{ .Values.budget.maxCostPerHour }}
      alert_threshold: {{ .Values.budget.alertThreshold }}
    workspace:
      path: {{ .Values.config.workspacePath | quote }}
    logging:
      level: "INFO"
